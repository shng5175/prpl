variables:
  CI_DESIGNATED_BRANCH: prplos

include:
  - local: .gitlab/testbed.yml
  - local: .gitlab/testbed/nec-wx3000hp.yml
  - local: .gitlab/testbed/glinet-b1300.yml
  - local: .gitlab/testbed/turris-omnia.yml

stages:
  - run

run test NEC WX3000HP with system on NAND:
  extends: .nec-wx3000hp testbed
  variables:
    TFTP_IMAGE_DOWNLOAD_URL: https://gitlab.com/prpl-foundation/prplos/prplos/-/jobs/2233375707/artifacts/raw/bin/targets/intel_mips/xrx500/AX3000_1600_ETH_11AXUCI_ASURADA-squashfs-fullimage.img

run test Gl.iNet B1300 with system on initramfs:
  extends: .glinet-b1300 testbed
  variables:
    TFTP_IMAGE_DOWNLOAD_URL: https://gitlab.com/prpl-foundation/prplos/prplos/-/jobs/2233375708/artifacts/raw/bin/targets/ipq40xx/generic/openwrt-ipq40xx-generic-glinet_gl-b1300-initramfs-fit-uImage.itb

run test Turris Omnia with system on initramfs:
  extends: .turris-omnia testbed
  variables:
    TFTP_IMAGE_DOWNLOAD_URL: https://gitlab.com/prpl-foundation/prplos/prplos/-/jobs/2233375709/artifacts/raw/bin/targets/mvebu/cortexa9/openwrt-mvebu-cortexa9-cznic_turris-omnia-initramfs-kernel.bin
